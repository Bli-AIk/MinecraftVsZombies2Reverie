<stages>
    <stage id="debug" name="测试关卡" type="special">
        <camera transition="instant"/>
        <conveyor>
            <entry id="mvz2:obsidian" count="8"/>
            <entry id="mvz2:small_dispenser" count="5"/>
            <entry id="mvz2:punchton" count="5"/>
            <entry id="mvz2:tnt" count="3"/>
            <entry id="mvz2:soul_furnace" count="10"/>
            <entry id="mvz2:silvenser" count="8"/>
            <entry id="mvz2:magichest" count="4"/>
        </conveyor>
    </stage>
    <stage id="tutorial" name="教程关" type="special">
        <camera transition="to_lawn"/>
    </stage>
    <stage id="prologue" name="序章">
        <talks>
            <talk type="start" value="mvz2:tutorial" />
        </talks>
        <clear pickupModel="mvz2:entity.map_pickup" note="mvz2:prologue"/>
        <spawns flags="1">
            <spawn id="mvz2:zombie"/>
            <spawn id="mvz2:leather_capped_zombie"/>
            <spawn id="mvz2:iron_helmetted_zombie"/>
        </spawns>
    </stage>
    <stage id="halloween_1" name="万圣夜" dayNumber="1" unlock="mvz2:level.prologue">
        <talks>
            <talk type="start" value="mvz2:halloween_1"/>
            <talk type="end" value="mvz2:halloween_1_over"/>
            <talk type="map" value="mvz2:halloween_1_map"/>
        </talks>
        <clear pickupModel="mvz2:entity.blueprint_pickup" blueprint="mvz2:small_dispenser"/>
        <spawns flags="1" firstWaveTime="1800">
            <spawn id="mvz2:zombie"/>
            <spawn id="mvz2:leather_capped_zombie"/>
        </spawns>
    </stage>
    <stage id="starshard_tutorial" name="教程关" type="special">
        <camera transition="to_lawn"/>
    </stage>
    <stage id="halloween_2" name="万圣夜" dayNumber="2" unlock="mvz2:level.halloween_1">
        <talks>
            <talk type="start" value="mvz2:starshard_tutorial"/>
            <talk type="end" value="mvz2:halloween_2_over"/>
            <talk type="map" value="mvz2:halloween_2_map"/>
        </talks>
        <clear pickupModel="mvz2:entity.blueprint_pickup" blueprint="mvz2:moonlight_sensor"/>
        <spawns flags="1" >
            <spawn id="mvz2:zombie"/>
            <spawn id="mvz2:leather_capped_zombie"/>
            <spawn id="mvz2:skeleton"/>
        </spawns>
        <properties>
            <integer name="statueCount" value="3" />
        </properties>
    </stage>
    <stage id="halloween_3" name="万圣夜" dayNumber="3" unlock="mvz2:level.halloween_2">
        <talks>
            <talk type="start" value="mvz2:halloween_3"/>
            <talk type="end" value="mvz2:halloween_3_over"/>
            <talk type="map" value="mvz2:halloween_3_map"/>
        </talks>
        <clear pickupModel="mvz2:entity.blueprint_pickup" blueprint="mvz2:glowstone"/>
        <spawns flags="2" >
            <spawn id="mvz2:zombie"/>
            <spawn id="mvz2:leather_capped_zombie"/>
            <spawn id="mvz2:iron_helmetted_zombie"/>
            <spawn id="mvz2:skeleton"/>
        </spawns>
        <properties>
            <integer name="statueCount" value="4" />
        </properties>
    </stage>
    <stage id="halloween_4" name="万圣夜" dayNumber="4" unlock="mvz2:level.halloween_3">
        <talks>
            <talk type="start" value="mvz2:halloween_4"/>
            <talk type="end" value="mvz2:halloween_4_over"/>
            <talk type="map" value="mvz2:halloween_4_map"/>
        </talks>
        <clear pickupModel="mvz2:entity.blueprint_pickup" blueprint="mvz2:punchton"/>
        <spawns flags="2" >
            <spawn id="mvz2:zombie"/>
            <spawn id="mvz2:leather_capped_zombie"/>
            <spawn id="mvz2:skeleton"/>
            <spawn id="mvz2:ghost"/>
        </spawns>
        <properties>
            <integer name="statueCount" value="5" />
        </properties>
    </stage>
    <stage id="halloween_5" name="万圣夜" dayNumber="5" unlock="mvz2:level.halloween_4" >
        <talks>
            <talk type="start" value="mvz2:halloween_5"/>
            <talk type="end" value="mvz2:halloween_5_over"/>
            <talk type="map" value="mvz2:halloween_5_map"/>
        </talks>
        <clear pickupModel="mvz2:entity.almanac_pickup" />
        <spawns flags="2" >
            <spawn id="mvz2:zombie"/>
            <spawn id="mvz2:leather_capped_zombie"/>
            <spawn id="mvz2:iron_helmetted_zombie"/>
            <spawn id="mvz2:skeleton"/>
            <spawn id="mvz2:ghost"/>
        </spawns>
        <properties>
            <integer name="statueCount" value="6" />
        </properties>
    </stage>
    <stage id="halloween_6" name="万圣夜" dayNumber="6" needBlueprints="false" type="minigame" unlock="mvz2:level.halloween_5" music="mvz2:minigame" >
        <model preset="cloudy" />
        <talks>
            <talk type="start" value="mvz2:halloween_6"/>
            <talk type="end" value="mvz2:halloween_6_over"/>
            <talk type="map" value="mvz2:halloween_6_map"/>
        </talks>
        <clear pickupModel="mvz2:entity.blueprint_pickup" blueprint="mvz2:tnt"/>
        <camera position="lawn" transition="instant"/>
        <spawns flags="2" firstWaveTime="30" pointsMultiplier="2" >
            <spawn id="mvz2:ghost"/>
        </spawns>
    </stage>
    <stage id="halloween_7" name="万圣夜" dayNumber="7" unlock="mvz2:level.halloween_6" >
        <talks>
            <talk type="start" value="mvz2:trigger_tutorial"/>
            <talk type="end" value="mvz2:halloween_7_over"/>
            <talk type="map" value="mvz2:halloween_7_map"/>
        </talks>
        <clear pickupModel="mvz2:entity.blueprint_pickup" blueprint="mvz2:soul_furnace"/>
        <spawns flags="2" >
            <spawn id="mvz2:zombie"/>
            <spawn id="mvz2:leather_capped_zombie"/>
            <spawn id="mvz2:skeleton"/>
            <spawn id="mvz2:ghost"/>
            <spawn id="mvz2:mummy"/>
        </spawns>
        <properties>
            <integer name="statueCount" value="7" />
        </properties>
    </stage>
    <stage id="trigger_tutorial" name="教程关" type="special">
        <camera transition="to_lawn"/>
    </stage>
    <stage id="halloween_8" name="万圣夜" dayNumber="8" unlock="mvz2:level.halloween_7" >
        <talks>
            <talk type="start" value="mvz2:seventh_slot" repeatUntil="mvz2:blueprint_slot.7;mvz2:level.dream_5"/>
            <talk type="end" value="mvz2:halloween_8_over"/>
            <talk type="map" value="mvz2:halloween_8_map"/>
        </talks>
        <clear pickupModel="mvz2:entity.blueprint_pickup" blueprint="mvz2:silvenser"/>
        <spawns flags="2" >
            <spawn id="mvz2:zombie"/>
            <spawn id="mvz2:leather_capped_zombie"/>
            <spawn id="mvz2:iron_helmetted_zombie"/>
            <spawn id="mvz2:skeleton"/>
            <spawn id="mvz2:ghost"/>
            <spawn id="mvz2:mummy"/>
        </spawns>
        <properties>
            <integer name="statueCount" value="8" />
        </properties>
    </stage>
    <stage id="halloween_9" name="万圣夜" dayNumber="9" unlock="mvz2:level.halloween_8" >
        <talks>
            <talk type="start" value="mvz2:halloween_9"/>
            <talk type="end" value="mvz2:halloween_9_over"/>
            <talk type="map" value="mvz2:halloween_9_map"/>
        </talks>
        <clear pickupModel="mvz2:entity.blueprint_pickup" blueprint="mvz2:magichest"/>
        <spawns flags="2" >
            <spawn id="mvz2:zombie"/>
            <spawn id="mvz2:leather_capped_zombie"/>
            <spawn id="mvz2:iron_helmetted_zombie"/>
            <spawn id="mvz2:skeleton"/>
            <spawn id="mvz2:ghost"/>
            <spawn id="mvz2:mummy"/>
            <spawn id="mvz2:necromancer"/>
        </spawns>
        <properties>
            <integer name="statueCount" value="9" />
        </properties>
    </stage>
    <stage id="halloween_10" name="万圣夜" dayNumber="10" unlock="mvz2:level.halloween_9" >
        <talks>
            <talk type="start" value="mvz2:halloween_10"/>
            <talk type="end" value="mvz2:halloween_10_over"/>
            <talk type="map" value="mvz2:halloween_10_map"/>
        </talks>
        <clear pickupModel="mvz2:entity.map_pickup" note="mvz2:halloween"/>
        <spawns flags="2" >
            <spawn id="mvz2:zombie"/>
            <spawn id="mvz2:leather_capped_zombie"/>
            <spawn id="mvz2:iron_helmetted_zombie"/>
            <spawn id="mvz2:skeleton"/>
            <spawn id="mvz2:ghost"/>
            <spawn id="mvz2:mummy"/>
            <spawn id="mvz2:necromancer"/>
        </spawns>
        <properties>
            <integer name="statueCount" value="10" />
        </properties>
    </stage>
    <stage id="halloween_11" name="万圣夜" dayNumber="11" type="boss" needBlueprints="false" unlock="mvz2:level.halloween_10" music="mvz2:ultimate_battle" >
        <model preset="cloudy" />
        <talks>
            <talk type="start" value="mvz2:halloween_11"/>
            <talk type="end" value="mvz2:halloween_11_over"/>
            <talk type="map" value="mvz2:halloween_11_map"/>
        </talks>
        <conveyor>
            <entry id="mvz2:obsidian" count="8"/>
            <entry id="mvz2:small_dispenser" count="5"/>
            <entry id="mvz2:punchton" count="5"/>
            <entry id="mvz2:tnt" count="3"/>
            <entry id="mvz2:soul_furnace" count="10"/>
            <entry id="mvz2:silvenser" count="8"/>
            <entry id="mvz2:magichest" count="4"/>
        </conveyor>
        <clear pickupModel="mvz2:entity.dream_key"/>
        <spawns flags="2" firstWaveTime="30" >
            <spawn id="mvz2:zombie"/>
            <spawn id="mvz2:leather_capped_zombie"/>
            <spawn id="mvz2:iron_helmetted_zombie"/>
            <spawn id="mvz2:skeleton"/>
            <spawn id="mvz2:ghost"/>
            <spawn id="mvz2:mummy"/>
            <spawn id="mvz2:necromancer"/>
        </spawns>
        <properties>
            <integer name="statueCount" value="10" />
        </properties>
    </stage>
    <stage id="halloween_endless" name="万圣夜无尽" type="endless" unlock="mvz2:level.halloween_11" >
        <clear pickupModel="mvz2:entity.money_chest"/>
        <spawns flags="2" >
            <spawn id="mvz2:zombie"/>
            <spawn id="mvz2:leather_capped_zombie"/>
        </spawns>
        <properties>
            <integer name="statueCount" value="2" />
        </properties>
    </stage>
    <stage id="dream_1" name="梦境世界" dayNumber="1" unlock="mvz2:entered_dream">
        <talks>
            <talk type="start" value="mvz2:dream_1"/>
            <talk type="end" value="mvz2:dream_1_over"/>
            <talk type="map" value="mvz2:dream_1_map"/>
        </talks>
        <clear pickupModel="mvz2:entity.blueprint_pickup" blueprint="mvz2:lilypad"/>
        <spawns flags="1">
            <spawn id="mvz2:zombie"/>
            <spawn id="mvz2:leather_capped_zombie"/>
        </spawns>
    </stage>
</stages>